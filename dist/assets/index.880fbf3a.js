import{T as f,X as d,V as g,s as v,M as h,a as b,c as w,F as S,O as L,b as F,G as k,d as x,$ as i}from"./vendor.a310f410.js";const V=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function e(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=e(r);fetch(r.href,a)}};V();new f({title:"\u5929\u5730\u56FE\u77E2\u91CF",source:new d({url:"http://t0.tianditu.com/DataServer?T=vec_w&x={x}&y={y}&l={z}&tk=3bc6874f2b919aa581635abab7759a3f",wrapX:!1})});var C=new g({center:[115,35],zoom:6,projection:"EPSG:4326"});new v({units:"metric",bar:!0,text:!0,className:"ol-scale-line"});var l=new h({target:"map",layers:[],view:C}),M=new v({units:"metric",target:"scalebar",className:"ol-scale-line"}),E=new b({className:"mosuePosition",coordinateFormat:w(6),projection:"EPSG:4326",target:document.getElementById("position")}),G=new S,N=function(){l.addControl(M)},O=function(){l.addControl(G)},P=function(){l.addControl(E)},c=[],m=[],y=[],T=".layers";function X(t,n){t.addEventListener("click",function(){this.checked?n.setVisible(!0):n.setVisible(!1)})}var z=function(){for(var t=l.getLayers(),n=document.querySelector(T),e=0;e<t.getArray().length;e++){c[e]=t.item(e),m[e]=c[e].get("name"),y[e]=c[e].getVisible();var o=document.createElement("li");o.innerHTML='<input type="checkbox" name="layers"><label>'+m[e]+"</label>",n.appendChild(o),y[e]&&(o.firstElementChild.checked=!0),X(o.firstElementChild,c[e])}},A=new d({url:"http://t0.tianditu.com/DataServer?T=vec_w&x={x}&y={y}&l={z}&tk=3bc6874f2b919aa581635abab7759a3f",wrapX:!1}),q=new d({url:"http://t0.tianditu.com/DataServer?T=cva_w&x={x}&y={y}&l={z}&tk=3bc6874f2b919aa581635abab7759a3f",attributions:"\u5929\u5730\u56FE\u5C5E\u6027\u63CF\u8FF0",wrapX:!1}),D=new L,_=new F({url:"http://localhost:31142/geoserver/dbtest/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=dbtest%3Achncityxy&maxFeatures=1500&outputFormat=application%2Fjson",format:new k,projection:"EPSG:4326"}),u={tiandiVec:A,tiandiMark:q,OSM:D,city:_},j=function(t){for(var n in u)if(n==t){var e=new f({title:t,name:t,source:u[t]});l.addLayer(e);break}},B=function(t){for(var n in u)if(n==t){var e=new x({title:t,name:t,source:u[t]});l.addLayer(e);break}},I=function(t,n){for(var e=l.getLayers(),o=0;o<e.getArray().length;o++){var r=e.item(o);if(r.get("name")==t)for(var a=r.getSource().getFeatures(),s=0;s<a.length;s++){var p=String(a[s].get("name"));if(p.trim()==n)return a[s]}}return null},Y=l.getView(),H=function(t){var n=t.getGeometry().getExtent();console.log(t.getGeometry().getCoordinates()),console.log(n),Y.animate({center:t.getGeometry().getCoordinates(),duration:2e3,easing:function(e){var o=7.5625,r=2.75,a;return e<1/r?a=o*e*e:e<2/r?(e-=1.5/r,a=o*e*e+.75):e<2.5/r?(e-=2.25/r,a=o*e*e+.9375):(e-=2.625/r,a=o*e*e+.984375),a}})};j("OSM");B("city");N();O();P();z();i(".pic-nav").on("mouseenter",function(t){i(this).animate({left:0},function(){i(".pic-nav").hide().css("left",-.8*i(".pic-nav").width()),i(".nav").show()})});i(".nav").on("mouseleave",function(t){i(this).animate({left:-.8*i(this).width()},function(){i(".nav").hide().css("left",0),i(".pic-nav").show()})});i(".searchBar button").on("click",function(){var t=i(this).siblings("input").val();console.log(t);var n=I("city",t);H(n),console.log(n)});
//# sourceMappingURL=index.880fbf3a.js.map
