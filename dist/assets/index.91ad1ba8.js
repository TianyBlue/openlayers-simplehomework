import{T as d,X as f,V as g,s as v,M as h,a as b,c as w,F as S,O as L,b as F,G as k,d as x,f as V,$ as i}from"./vendor.9a80f0b5.js";const M=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function e(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(t){if(t.ep)return;t.ep=!0;const n=e(t);fetch(t.href,n)}};M();new d({title:"\u5929\u5730\u56FE\u77E2\u91CF",source:new f({url:"http://t0.tianditu.com/DataServer?T=vec_w&x={x}&y={y}&l={z}&tk=3bc6874f2b919aa581635abab7759a3f",wrapX:!1})});var E=new g({center:[115,35],zoom:6,projection:"EPSG:4326"});new v({units:"metric",bar:!0,text:!0,className:"ol-scale-line"});var c=new h({target:"map",layers:[],view:E}),C=new v({units:"metric",target:"scalebar",className:"ol-scale-line"}),N=new b({className:"mosuePosition",coordinateFormat:w(6),projection:"EPSG:4326",target:document.getElementById("position")}),O=new S,P=function(){c.addControl(C)},T=function(){c.addControl(O)},G=function(){c.addControl(N)},l=[],m=[],y=[],X=".layers";function z(r,a){r.addEventListener("click",function(){this.checked?a.setVisible(!0):a.setVisible(!1)})}var A=function(){for(var r=c.getLayers(),a=document.querySelector(X),e=0;e<r.getArray().length;e++){l[e]=r.item(e),m[e]=l[e].get("name"),y[e]=l[e].getVisible();var o=document.createElement("li");o.innerHTML='<input type="checkbox" name="layers"><label>'+m[e]+"</label>",a.appendChild(o),y[e]&&(o.firstElementChild.checked=!0),z(o.firstElementChild,l[e])}},q=new f({url:"http://t0.tianditu.com/DataServer?T=vec_w&x={x}&y={y}&l={z}&tk=3bc6874f2b919aa581635abab7759a3f",wrapX:!1}),D=new f({url:"http://t0.tianditu.com/DataServer?T=cva_w&x={x}&y={y}&l={z}&tk=3bc6874f2b919aa581635abab7759a3f",attributions:"\u5929\u5730\u56FE\u5C5E\u6027\u63CF\u8FF0",wrapX:!1}),_=new L,j=new F({url:"http://localhost:31142/geoserver/dbtest/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=dbtest%3Achncityxy&maxFeatures=1500&outputFormat=application%2Fjson",format:new k,projection:"EPSG:4326"}),u={tiandiVec:q,tiandiMark:D,OSM:_,city:j},B=function(r){for(var a in u)if(a==r){var e=new d({title:r,name:r,source:u[r]});c.addLayer(e);break}},I=function(r){for(var a in u)if(a==r){var e=new x({title:r,name:r,source:u[r]});c.addLayer(e);break}},Y=function(r,a){for(var e=c.getLayers(),o=0;o<e.getArray().length;o++){var t=e.item(o);if(t.get("name")==r)for(var n=t.getSource().getFeatures(),s=0;s<n.length;s++){var p=String(n[s].get("name"));if(p.trim()==a)return n[s]}}return null},H=c.getView(),J=function(r){var a=r.getGeometry().getExtent();console.log(a),H.animate({center:V(a[0],a[1]),duration:2e3,easing:function(e){var o=7.5625,t=2.75,n;return e<1/t?n=o*e*e:e<2/t?(e-=1.5/t,n=o*e*e+.75):e<2.5/t?(e-=2.25/t,n=o*e*e+.9375):(e-=2.625/t,n=o*e*e+.984375),n}})};B("OSM");I("city");P();T();G();A();i(".pic-nav").on("mouseenter",function(r){i(this).animate({left:0},function(){i(".pic-nav").hide().css("left",-.8*i(".pic-nav").width()),i(".nav").show()})});i(".nav").on("mouseleave",function(r){i(this).animate({left:-.8*i(this).width()},function(){i(".nav").hide().css("left",0),i(".pic-nav").show()})});i(".searchBar button").on("click",function(){var r=i(this).siblings("input").val();console.log(r);var a=Y("city",r);J(a),console.log(a)});
//# sourceMappingURL=index.91ad1ba8.js.map
